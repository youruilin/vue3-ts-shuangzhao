import{d as C,P as w,c as o,b as d,aa as i,ae as B,a2 as t,ab as l,M as p,ag as r,a3 as N,a4 as x,a7 as D,o as s,N as P,_ as T}from"./index-D_KD6bzL.js";/* empty css              */import{N as V}from"./index-aoQ48OHh.js";import{P as L,a as O,b as E}from"./ProgressBar-Da8UFLmk.js";import{L as F,T as I,s as M}from"./request-3oSdbRtY.js";const R={key:0},S=["src"],j={key:1,class:"contract-btn"},q={key:0,class:"confirm-btn"},z={key:1,class:"refuse-btn"},A={key:2,class:"confirm-btn"},G=C({__name:"[id]",props:{id:{}},setup(u){const _=D(),b=()=>{_.push("/contract/ContractProgress/"+n.item.contract_id)},n=w({item:{},status:0}),y=()=>history.back();(async()=>{const a=await O({id:u.id});a?(console.log(a,"这里是获取合约详情的函数"),n.item=a.records[0],n.status=a.records[0].status):new I("到这里出错了")})();const m=async a=>{const e=await E({is_contract_type:a,contract_id:u.id});M(e.meg)},f=()=>{m(5)},g=()=>{m(3)};return(a,e)=>{const k=V,v=F,c=P("debounce");return s(),o(x,null,[d(k,{title:"合约详情","left-arrow":"",onClickLeft:y}),n.item?(s(),o("dl",R,[t("dd",null,[t("img",{src:n.item.logo,alt:""},null,8,S),t("div",null,[t("h5",null,l(n.item.company_name),1),t("p",null,l(n.item.create_user_name),1)])]),t("dt",null,[e[0]||(e[0]=t("label",null,"合约状态",-1)),t("span",null,l(n.item.is_contract_type_text),1)]),t("dt",null,[e[1]||(e[1]=t("label",null,"合约名称",-1)),t("span",null,l(n.item.contract_name),1)]),t("dt",null,[e[2]||(e[2]=t("label",null,"合约类型",-1)),t("span",null,l(n.item.contract_type),1)]),t("dt",null,[e[3]||(e[3]=t("label",null,"合约薪资",-1)),t("span",null,l(n.item.task_salary),1)]),t("dt",null,[e[4]||(e[4]=t("label",null,"合约周期",-1)),t("span",null,l(n.item.start_cycle_time)+"-"+l(n.item.end_cycle_time),1)]),t("dt",null,[e[5]||(e[5]=t("label",null,"签约时间",-1)),t("span",null,l(n.item.signing_time||"-"),1)]),t("dt",null,[e[6]||(e[6]=t("label",null,"结算方式",-1)),t("span",null,l(n.item.check_out),1)]),t("dt",null,[e[7]||(e[7]=t("label",null,"合约备注",-1)),t("span",null,l(n.item.task_ask),1)]),t("dt",null,[e[8]||(e[8]=t("label",null,"合约结算",-1)),t("span",null,l(n.item.settle_salary),1)]),e[9]||(e[9]=t("dt",null,[t("label",null,"合约进度"),t("span")],-1)),t("dt",null,[d(L,{item:n.item},null,8,["item"])])])):i("",!0),n.item?(s(),o("div",j,[n.item.is_contract_type===1?(s(),o("button",q,"发送合约")):i("",!0),n.item.is_contract_type===2?p((s(),o("button",z,e[10]||(e[10]=[r(" 拒绝签约 ")]))),[[c,f]]):i("",!0),n.item.is_contract_type===2?p((s(),o("button",A,e[11]||(e[11]=[r(" 确认签约 ")]))),[[c,g]]):i("",!0),n.item.is_contract_type!=1&&n.item.is_contract_type!=2?(s(),o("button",{key:3,class:"confirm-btn",onClick:b}," 合约进度 ")):i("",!0)])):i("",!0),n.item?i("",!0):(s(),B(v,{key:2},{default:N(()=>e[12]||(e[12]=[r("加载中...")])),_:1}))],64)}}}),X=T(G,[["__scopeId","data-v-cbc2d2e8"]]);export{X as default};
