import{aa as N,d as y,t as R,f as w,x as I,a as V,r as v,am as p,l as A,A as L,an as D,L as j,s as F,b as i,n as U,R as S,ak as H,w as K,c as x,o as T,a4 as M,a7 as O,a2 as t,a6 as Y,a9 as r,ac as $,I as q,ae as z,_ as G}from"./index-D0ZC9rwr.js";import{b as J,L as Q}from"./mount-component-g2yecZIH.js";const W=Symbol(),X=()=>N(W,null),[Z,u,ee]=V("list"),te={error:Boolean,offset:I(300),loading:Boolean,disabled:Boolean,finished:Boolean,scroller:Object,errorText:String,direction:w("down"),loadingText:String,finishedText:String,immediateCheck:R};var ae=y({name:Z,props:te,emits:["load","update:error","update:loading"],setup(e,{emit:f,slots:s}){const l=v(e.loading),o=v(),k=v(),a=X(),_=p(o),h=A(()=>e.scroller||_.value),d=()=>{U(()=>{if(l.value||e.finished||e.disabled||e.error||(a==null?void 0:a.value)===!1)return;const{direction:n}=e,g=+e.offset,c=S(h);if(!c.height||H(o))return;let m=!1;const b=S(k);n==="up"?m=c.top-b.top<=g:m=b.bottom-c.bottom<=g,m&&(l.value=!0,f("update:loading",!0),f("load"))})},B=()=>{if(e.finished){const n=s.finished?s.finished():e.finishedText;if(n)return i("div",{class:u("finished-text")},[n])}},C=()=>{f("update:error",!1),d()},P=()=>{if(e.error){const n=s.error?s.error():e.errorText;if(n)return i("div",{role:"button",class:u("error-text"),tabindex:0,onClick:C},[n])}},E=()=>{if(l.value&&!e.finished&&!e.disabled)return i("div",{class:u("loading")},[s.loading?s.loading():i(Q,{class:u("loading-icon")},{default:()=>[e.loadingText||ee("loading")]})])};return L(()=>[e.loading,e.finished,e.error],d),a&&L(a,n=>{n&&d()}),D(()=>{l.value=e.loading}),j(()=>{e.immediateCheck&&d()}),J({check:d}),F("scroll",d,{target:h,passive:!0}),()=>{var n;const g=(n=s.default)==null?void 0:n.call(s),c=i("div",{ref:k,class:u("placeholder")},null);return i("div",{ref:o,role:"feed",class:u(),"aria-busy":l.value},[e.direction==="down"?g:c,E(),B(),P(),e.direction==="up"?g:c])}}});const ce=K(ae),ne=["onClick"],se={class:"task-item-top"},oe={key:0},le={class:"task-item-buttom"},re=y({__name:"TaskList",props:{taskList:{}},setup(e){const f=z(),s=l=>{f.push("/task/TaskDetails/"+l)};return(l,o)=>{const k=q;return T(!0),x(M,null,O(l.taskList,(a,_)=>(T(),x("div",{key:_,class:"task-item",onClick:h=>s(a.task_id)},[t("div",se,[t("h3",null,r(a.task_name),1),a.is_emergency==1?(T(),x("span",oe,"緊急")):Y("",!0)]),t("dl",null,[t("dt",null,[o[0]||(o[0]=t("h5",null,"タスクの予算",-1)),t("strong",null,"￥"+r(a.task_budget),1)]),t("dt",null,[o[1]||(o[1]=t("h5",null,"タスクサイクル",-1)),t("strong",null,"￥"+r(a.task_cycle),1)]),t("dt",null,[o[2]||(o[2]=t("h5",null,"サービス方法",-1)),t("strong",null,r(a.service_mode),1)])]),t("p",null,"任务要求:"+r(a.task_ask),1),t("div",le,[t("label",null,r(a.company_name),1),t("span",null,[i(k,{name:"location-o"}),$(r(a.city),1)])])],8,ne))),128)}}}),ue=G(re,[["__scopeId","data-v-6df22356"]]);export{ce as L,ue as T};
