import{w as K,d as T,e as Y,a as F,ax as Ce,u as pe,l as L,b as i,az as Be,t as N,a3 as V,m as $,aA as be,r as O,O as I,aB as ye,p as Ee,F as Se,f as Te,S as De,k as J,aC as ae,V as fe,X as xe,aD as Ve,aE as Qe,G as Oe,x as Pe,Q as We,i as ie,aF as Ie,s as Ue,v as Re,h as Ke,A as me,ah as G,c as b,o as C,a2 as P,a1 as g,_ as M,a5 as ee,ac as Z,ai as Me,ab as U,ak as te,aa as re,K as He,n as q,J as Ne,L as z,af as Le,I as Ye,$ as ce,ad as ue}from"./index-DgftvtFR.js";import{N as oe}from"./index-B0QwTD1K.js";import{b as Fe,d as Ge,e as Ae,f as Ze,g as qe,h as ze}from"./message-Bo8PdwmX.js";/* empty css              */import{F as _e}from"./index-D5LrvKK4.js";import{b as ve,e as Je,p as Xe,P as ne,a as je,m as $e,c as et,u as tt,s as R}from"./request-DzjGBWQs.js";import{B as X}from"./index-BoAsWGzP.js";import{s as ot,A as nt}from"./ActionBar-D6U4E6aa.js";const lt=K(ot),[st,at]=F("action-bar-button"),it=Y({},Be,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var rt=T({name:st,props:it,setup(t,{slots:a}){const e=Ce(),{parent:n,index:l}=pe(nt),c=L(()=>{if(n){const s=n.children[l.value-1];return!(s&&"isButton"in s)}}),d=L(()=>{if(n){const s=n.children[l.value+1];return!(s&&"isButton"in s)}});return ve({isButton:!0}),()=>{const{type:s,icon:f,text:r,color:m,loading:v,disabled:E}=t;return i(X,{class:at([s,{last:d.value,first:c.value}]),size:"large",type:s,icon:f,color:m,loading:v,disabled:E,onClick:e},{default:()=>[a.default?a.default():r]})}}});const de=K(rt),[ct,ge]=F("cell-group"),ut={title:String,inset:Boolean,border:N};var dt=T({name:ct,inheritAttrs:!1,props:ut,setup(t,{slots:a,attrs:e}){const n=()=>{var c;return i("div",$({class:[ge({inset:t.inset}),{[be]:t.border&&!t.inset}]},e,Je()),[(c=a.default)==null?void 0:c.call(a)])},l=()=>i("div",{class:ge("title",{inset:t.inset})},[a.title?a.title():t.title]);return()=>t.title||a.title?i(V,null,[l(),n()]):n()}});const gt=K(dt),[ft,y,H]=F("dialog"),mt=Y({},je,{title:String,theme:String,width:J,message:[String,Function],callback:Function,allowHtml:Boolean,className:De,transition:Te("van-dialog-bounce"),messageAlign:String,closeOnPopstate:N,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:N,closeOnClickOverlay:Boolean,keyboardEnabled:N,destroyOnClose:Boolean}),At=[...Xe,"transition","closeOnPopstate","destroyOnClose"];var he=T({name:ft,props:mt,emits:["confirm","cancel","keydown","update:show"],setup(t,{emit:a,slots:e}){const n=O(),l=I({confirm:!1,cancel:!1}),c=o=>a("update:show",o),d=o=>{var A;c(!1),(A=t.callback)==null||A.call(t,o)},s=o=>()=>{t.show&&(a(o),t.beforeClose?(l[o]=!0,fe(t.beforeClose,{args:[o],done(){d(o),l[o]=!1},canceled(){l[o]=!1}})):d(o))},f=s("cancel"),r=s("confirm"),m=ye(o=>{var A,w;if(!t.keyboardEnabled||o.target!==((w=(A=n.value)==null?void 0:A.popupRef)==null?void 0:w.value))return;({Enter:t.showConfirmButton?r:ae,Escape:t.showCancelButton?f:ae})[o.key](),a("keydown",o)},["enter","esc"]),v=()=>{const o=e.title?e.title():t.title;if(o)return i("div",{class:y("header",{isolated:!t.message&&!e.default})},[o])},E=o=>{const{message:A,allowHtml:w,messageAlign:p}=t,h=y("message",{"has-title":o,[p]:p}),x=xe(A)?A():A;return w&&typeof x=="string"?i("div",{class:h,innerHTML:x},null):i("div",{class:h},[x])},k=()=>{if(e.default)return i("div",{class:y("content")},[e.default()]);const{title:o,message:A,allowHtml:w}=t;if(A){const p=!!(o||e.title);return i("div",{key:w?1:0,class:y("content",{isolated:!p})},[E(p)])}},S=()=>i("div",{class:[Qe,y("footer")]},[t.showCancelButton&&i(X,{size:"large",text:t.cancelButtonText||H("cancel"),class:y("cancel"),style:{color:t.cancelButtonColor},loading:l.cancel,disabled:t.cancelButtonDisabled,onClick:f},null),t.showConfirmButton&&i(X,{size:"large",text:t.confirmButtonText||H("confirm"),class:[y("confirm"),{[Ve]:t.showCancelButton}],style:{color:t.confirmButtonColor},loading:l.confirm,disabled:t.confirmButtonDisabled,onClick:r},null)]),D=()=>i(lt,{class:y("footer")},{default:()=>[t.showCancelButton&&i(de,{type:"warning",text:t.cancelButtonText||H("cancel"),class:y("cancel"),color:t.cancelButtonColor,loading:l.cancel,disabled:t.cancelButtonDisabled,onClick:f},null),t.showConfirmButton&&i(de,{type:"danger",text:t.confirmButtonText||H("confirm"),class:y("confirm"),color:t.confirmButtonColor,loading:l.confirm,disabled:t.confirmButtonDisabled,onClick:r},null)]}),Q=()=>e.footer?e.footer():t.theme==="round-button"?D():S();return()=>{const{width:o,title:A,theme:w,message:p,className:h}=t;return i(ne,$({ref:n,role:"dialog",class:[y([w]),h],style:{width:Se(o)},tabindex:0,"aria-labelledby":A||p,onKeydown:m,"onUpdate:show":c},Ee(t,At)),{default:()=>[v(),k(),Q()]})}}});let j;const vt={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1,destroyOnClose:!1};let ht=Y({},vt);function kt(){({instance:j}=$e({setup(){const{state:a,toggle:e}=et();return()=>i(he,$(a,{"onUpdate:show":e}),null)}}))}function wt(t){return Oe?new Promise((a,e)=>{j||kt(),j.open(Y({},ht,t,{callback:n=>{(n==="confirm"?a:e)(n)}}))}):Promise.resolve(void 0)}const Ct=K(he),[pt,_]=F("swipe-cell"),Bt={name:Pe(""),disabled:Boolean,leftWidth:J,rightWidth:J,beforeClose:Function,stopPropagation:Boolean};var bt=T({name:pt,props:Bt,emits:["open","close","click"],setup(t,{emit:a,slots:e}){let n,l,c,d;const s=O(),f=O(),r=O(),m=I({offset:0,dragging:!1}),v=tt(),E=u=>u.value?We(u).width:0,k=L(()=>ie(t.leftWidth)?+t.leftWidth:E(f)),S=L(()=>ie(t.rightWidth)?+t.rightWidth:E(r)),D=u=>{m.offset=u==="left"?k.value:-S.value,n||(n=!0,a("open",{name:t.name,position:u}))},Q=u=>{m.offset=0,n&&(n=!1,a("close",{name:t.name,position:u}))},o=u=>{const B=Math.abs(m.offset),W=.15,we=n?1-W:W,se=u==="left"?k.value:S.value;se&&B>se*we?D(u):Q(u)},A=u=>{t.disabled||(c=m.offset,v.start(u))},w=u=>{if(t.disabled)return;const{deltaX:B}=v;v.move(u),v.isHorizontal()&&(l=!0,m.dragging=!0,(!n||B.value*c<0)&&Re(u,t.stopPropagation),m.offset=Ke(B.value+c,-S.value,k.value))},p=()=>{m.dragging&&(m.dragging=!1,o(m.offset>0?"left":"right"),setTimeout(()=>{l=!1},0))},h=(u="outside",B)=>{d||(a("click",u),n&&!l&&(d=!0,fe(t.beforeClose,{args:[{event:B,name:t.name,position:u}],done:()=>{d=!1,Q(u)},canceled:()=>d=!1,error:()=>d=!1})))},x=u=>B=>{(l||n)&&B.stopPropagation(),!l&&h(u,B)},le=(u,B)=>{const W=e[u];if(W)return i("div",{ref:B,class:_(u),onClick:x(u)},[W()])};return ve({open:D,close:Q}),Ie(s,u=>h("outside",u),{eventName:"touchstart"}),Ue("touchmove",w,{target:s}),()=>{var u;const B={transform:`translate3d(${m.offset}px, 0, 0)`,transitionDuration:m.dragging?"0s":".6s"};return i("div",{ref:s,class:_(),onClick:x("cell"),onTouchstartPassive:A,onTouchend:p,onTouchcancel:p},[i("div",{class:_("wrapper"),style:B},[le("left",f),(u=e.default)==null?void 0:u.call(e),le("right",r)])])}}});const yt=K(bt),Et="data:image/png;base64,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",St="data:image/png;base64,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",Tt=T({__name:"TalkWordsAdd",props:{title:{},id:{},text:{}},setup(t){const a=I({value:t.text||""});me(()=>t.text,c=>{a.value=c||""});const{closeWordsAdd:e}=G("popup"),n=()=>{e(),a.value=""},l=async()=>{if(!a.value){console.log("即将显示 Toast"),console.log(Ct),wt({title:"提示",message:"请还没有输入内容"}),console.log("Toast 显示完毕");return}let c=null;t.id?c=await Fe({id:t.id,text:a.value}):c=await Ge({text:a.value}),c?(R("添加成功"),a.value="",e()):R("未返回res")};return(c,d)=>{const s=oe,f=_e,r=gt;return C(),b(V,null,[i(s,{title:c.title,"left-arrow":"",onClickLeft:n},{right:P(()=>[g("span",{onClick:l},"完成")]),_:1},8,["title"]),i(r,{inset:""},{default:P(()=>[i(f,{modelValue:a.value,"onUpdate:modelValue":d[0]||(d[0]=m=>a.value=m),rows:"2",autosize:"",type:"textarea",maxlength:"120",placeholder:"通常の応答を入力してください。電子メールやその他の連絡先情報、広告情報などは入力しないでください。","show-word-limit":""},null,8,["modelValue"])]),_:1})],64)}}}),ke=M(Tt,[["__scopeId","data-v-c510e288"]]),Dt="data:image/png;base64,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",xt="/vue3-ts-shuangzhao/assets/icon-delete-Ch7cPLRu.png",Vt={class:"manage-list"},Qt={class:"item"},Ot=["onClick"],Pt=["onClick"],Wt=T({__name:"TalkWordsManage",setup(t){const{closeWordsManage:a}=G("popup"),e=I({list:[],title:"",editId:"",text:"",talkWordsSwitch:!1}),n=async()=>{const f=await Ae();f.data&&(e.list=f.data)};n();const l=async f=>{const r=await Ze({id:f});r&&n(),R(r.msg)},c=(f,r)=>{e.editId=f,e.text=r,e.title="编辑常用语",e.talkWordsSwitch=!0},d=()=>{e.editId="",e.text="",e.title="添加常用语",e.talkWordsSwitch=!0};return te("popup",{closeWordsAdd:()=>{e.talkWordsSwitch=!1,n()}}),(f,r)=>{const m=oe,v=yt,E=ne;return C(),b(V,null,[i(m,{title:"管理常用语","left-arrow":"",onClickLeft:ee(a)},null,8,["onClickLeft"]),g("div",Vt,[(C(!0),b(V,null,Z(e.list.slice().reverse(),(k,S)=>(C(),Me(v,{key:S},{right:P(()=>[g("img",{src:xt,class:"delete",alt:"",onClick:D=>l(k.id)},null,8,Pt)]),default:P(()=>[g("div",Qt,[g("p",null,U(k.text),1),g("div",null,[r[2]||(r[2]=g("img",{src:Dt,alt:""},null,-1)),g("span",{onClick:D=>c(k.id,k.text)},"编辑",8,Ot)])])]),_:2},1024))),128))]),g("button",{class:"add",onClick:r[0]||(r[0]=k=>d())},"添加常用语"),i(E,{show:e.talkWordsSwitch,"onUpdate:show":r[1]||(r[1]=k=>e.talkWordsSwitch=k),duration:"0.2",position:"right",style:{width:"100%",height:"100%"}},{default:P(()=>[i(ke,{id:e.editId,title:e.title,text:e.text},null,8,["id","title","text"])]),_:1},8,["show"])],64)}}}),It=M(Wt,[["__scopeId","data-v-59af921b"]]),Ut={class:"talk-word"},Rt=["onClick"],Kt={class:"talk-word-btn"},Mt=T({__name:"TalkWords",setup(t){const{wordsChange:a}=G("popup"),e=I({loading:!1,list:[],talkWordsSwitch:!1,talkWordsManage:!1}),n=async()=>{const d=await Ae();d.data&&(e.list=d.data)};return n(),te("popup",{closeWordsAdd:()=>{e.talkWordsSwitch=!1,n()},closeWordsManage:()=>{e.talkWordsManage=!1,n()}}),(d,s)=>{const f=ne;return C(),b("div",Ut,[g("dl",null,[(C(!0),b(V,null,Z(e.list.slice().reverse(),(r,m)=>(C(),b("dt",{key:m,onClick:v=>ee(a)(r.text)},U(r.text),9,Rt))),128))]),g("div",Kt,[g("p",{onClick:s[0]||(s[0]=r=>e.talkWordsSwitch=!0)},s[4]||(s[4]=[g("img",{src:Et},null,-1),re("添加")])),s[6]||(s[6]=g("i",null,null,-1)),g("p",{onClick:s[1]||(s[1]=r=>e.talkWordsManage=!0)},s[5]||(s[5]=[g("img",{src:St},null,-1),re("管理")]))]),i(f,{show:e.talkWordsSwitch,"onUpdate:show":s[2]||(s[2]=r=>e.talkWordsSwitch=r),duration:"0.2",position:"right",style:{width:"100%",height:"100%"}},{default:P(()=>[i(ke,{title:"添加常用语"})]),_:1},8,["show"]),i(f,{show:e.talkWordsManage,"onUpdate:show":s[3]||(s[3]=r=>e.talkWordsManage=r),duration:"0.2",position:"right",style:{width:"100%",height:"100%"}},{default:P(()=>[i(It)]),_:1},8,["show"])])}}}),Ht=M(Mt,[["__scopeId","data-v-815eb1dc"]]),Nt=["onClick"],Lt=T({__name:"TalkEmoji",setup(t){const{emojiChange:a}=G("popup"),e=["😀","😁","😂","😃","😄","😅","😆","😉","😊","😋","😎","😍","😘","😗","😙","😚","😇","😐","😑","😶","😏"];return(n,l)=>(C(),b("div",null,[(C(),b(V,null,Z(e,(c,d)=>g("span",{key:d,in:"",list:"",onClick:s=>ee(a)(c)},U(c),9,Nt)),64))]))}}),Yt=M(Lt,[["__scopeId","data-v-4176d524"]]),Ft=["src"],Gt=["src"],Zt={class:"talk-input"},qt=T({__name:"[receive_id]",props:{things_id:{},receive_id:{}},setup(t){const a=()=>history.back(),e=I({list:[],loading:!1,value:"",task_name:"",creacteSetInterval:null,worksVisible:!1,emojiVisible:!1}),n=O(null),l=O(null),c=O(!0),d=(o=0)=>{l.value&&(o>0?setTimeout(()=>{l.value&&(l.value.scrollTop=l.value.scrollHeight,console.log("延迟执行滚动"))},o):(l.value.scrollTop=l.value.scrollHeight,console.log("确保执行了滚动")))};me(()=>e.list,()=>{d(),c.value&&(q(()=>{d()}),c.value=!1)});const s=async()=>{e.loading=!0;const o=await qe({receive_id:t.receive_id,things_id:t.things_id,things_type:0});o.data?(e.list=o.data,e.task_name=o.data[0]&&o.data[0].task_name||"任务",c.value&&(await q(),d(),c.value=!1)):R(o.msg),e.loading=!1};s();const f=()=>{e.creacteSetInterval&&(clearInterval(e.creacteSetInterval),e.creacteSetInterval=null)};(()=>{f(),e.creacteSetInterval=setInterval(()=>{s()},5e3)})();const m=o=>{var A;if(console.log("事件目标:",o.target),console.log("inputArea的类型:",(A=n.value)==null?void 0:A.constructor.name),n.value&&n.value instanceof HTMLElement){const w=!n.value.contains(o.target);console.log("是否在 inputArea 外部:",w),w&&(console.log("点击了以外的区域"),(e.emojiVisible||e.worksVisible)&&(n.value.style.maxHeight="2.6rem",l.value&&(l.value.style.height="calc(100vh - 40px - 2.6rem)"),setTimeout(()=>{e.worksVisible=!1,e.emojiVisible=!1,console.log("延迟关闭常用语面板")},300)))}};He(()=>{d(),q(()=>{document.addEventListener("click",m)}),c.value=!0}),Ne(()=>{f(),document.removeEventListener("click",m)});const v=o=>{n.value&&l.value?(n.value.style.maxHeight=o,l.value.style.height=`calc(100vh - 40px - ${o})`):console.warn("inputArea.value 或 messageList.value 为 null")},E=()=>{if(console.log("点击了常用语"),!n.value||!l.value){console.warn("inputArea.value 或 messageList.value 为 null");return}e.worksVisible?(v("2.6rem"),setTimeout(()=>{e.worksVisible=!1,console.log("延迟关闭常用语面板")},300)):(v("290px"),d(150),e.worksVisible=!0,e.emojiVisible=!1,console.log("打开常用语面板"))},k=()=>{if(console.log("emojiClick"),!n.value||!l.value){console.warn("inputArea.value 或 messageList.value 为 null");return}e.worksVisible?(v("210px"),setTimeout(()=>{e.worksVisible=!1,e.emojiVisible=!e.emojiVisible,console.log("延迟关闭常用语面板并切换 emoji 状态")},200)):e.emojiVisible?(v("2.6rem"),setTimeout(()=>{e.emojiVisible=!1,console.log("延迟关闭 emoji 面板")},300)):(v("210px"),d(200),e.emojiVisible=!0,console.log("打开 emoji 面板"))},S=o=>{e.value=o},D=o=>{e.value=e.value+o},Q=async()=>{e.loading=!0;const o=await ze({receive_id:t.receive_id,things_id:t.things_id,content:e.value,things_type:0});o&&(await s(),e.value="",d()),R(o.msg)};return te("popup",{wordsChange:S,emojiChange:D}),(o,A)=>{const w=oe,p=Ye;return C(),b(V,null,[i(w,{title:e.task_name,"left-arrow":"",onClickLeft:a},null,8,["title"]),g("div",{ref_key:"messageList",ref:l,class:"talk-page"},[g("dl",null,[(C(!0),b(V,null,Z(e.list,(h,x)=>(C(),b("dt",{key:x,class:ue(h.receive_id==t.receive_id?"active":"")},[g("h5",null,U(h.create_time),1),g("div",null,[h.receive_id==t.receive_id?(C(),b("img",{key:0,src:h.senderPhoto},null,8,Ft)):(C(),b("img",{key:1,src:h.receivePhoto},null,8,Gt)),g("p",null,U(h.text),1)])],2))),128))])],512),g("div",{ref_key:"inputArea",ref:n,class:ue(["talk-bottom"])},[g("div",Zt,[g("span",{onClick:E},"常用语"),z(g("input",{"onUpdate:modelValue":A[0]||(A[0]=h=>e.value=h),type:"text"},null,512),[[Le,e.value]]),i(p,{name:"smile-o",onClick:k}),g("span",{onClick:Q},"发送")]),z(i(Ht,null,null,512),[[ce,e.worksVisible]]),z(i(Yt,null,null,512),[[ce,e.emojiVisible]])],512)],64)}}}),oo=M(qt,[["__scopeId","data-v-39013171"]]);export{oo as default};
