import{d as g,e as C,a as y,ax as P,u as T,b as n,m as w,ay as I,I as N,az as h,T as S,k as x,w as D,c as f,a2 as s,ac as o,a3 as b,ai as A,o as _,_ as v,P as V,ah as z,aa as R,ae as j,a4 as E,ab as O,a7 as $}from"./index-BVrD7QJ3.js";/* empty css              *//* empty css              */import{N as F}from"./index-WaVub-gS.js";import{a as K,b as L}from"./task-BGP3UsHH.js";import{A as M}from"./ActionBar-iBo3bOUF.js";import{B as Y}from"./index-opS6oq-e.js";import{T as Z,s as q}from"./request-CjaVE2dS.js";const[G,k]=y("action-bar-icon"),H=C({},h,{dot:Boolean,text:String,icon:String,color:String,badge:x,iconClass:S,badgeProps:Object,iconPrefix:String});var J=g({name:G,props:H,setup(i,{slots:a}){const t=P();T(M);const r=()=>{const{dot:m,badge:l,icon:d,color:e,iconClass:c,badgeProps:u,iconPrefix:p}=i;return a.icon?n(I,w({dot:m,class:k("icon"),content:l},u),{default:a.icon}):n(N,{tag:"div",dot:m,name:d,badge:l,color:e,class:[k("icon"),c],badgeProps:u,classPrefix:p},null)};return()=>n("div",{role:"button",class:k(),tabindex:0,onClick:t},[r(),a.default?a.default():i.text])}});const Q=D(J),U="/vue3-ts-shuangzhao/assets/details-guarantee-BSZ50mB5.png",W={class:"task-detail"},X={class:"task-h3-text"},tt={class:"task-h5-text"},st=["src"],at=g({__name:"TaskDetail",props:{item:{}},setup(i){return(a,t)=>{const r=A("router-link");return _(),f("div",W,[s("h3",null,o(a.item.task_name),1),s("p",X,o(a.item.position_name),1),s("dl",null,[s("dt",null,[t[0]||(t[0]=s("p",null,"タスクの予算",-1)),s("strong",null,o(a.item.task_budget)+"円",1)]),s("dt",null,[t[1]||(t[1]=s("p",null,"タスク周期",-1)),s("strong",null,o(a.item.task_cycle)+"天",1)]),s("dt",null,[t[2]||(t[2]=s("p",null,"サービス方法",-1)),s("strong",null,o(a.item.service_mode),1)])]),t[3]||(t[3]=s("h4",null,"ミッション情報",-1)),t[4]||(t[4]=s("h5",null,"ミッション要件",-1)),s("p",tt,o(a.item.task_ask),1),t[5]||(t[5]=s("h4",null,"雇用の安定",-1)),t[6]||(t[6]=s("img",{class:"task-job",src:U},null,-1)),t[7]||(t[7]=s("h4",null,"タスクソース",-1)),n(r,{class:"task-source",to:"/task/TaskCpmpanySource/"+a.item.company_id},{default:b(()=>[s("img",{src:a.item.head_img},null,8,st),s("div",null,[s("h5",null,o(a.item.company_name),1),s("p",null,o(a.item.user_name)+" . "+o(a.item.city),1)])]),_:1},8,["to"])])}}}),et=v(at,[["__scopeId","data-v-04a70600"]]),ot={class:"task-detail-footer"},nt=g({__name:"[id]",props:{id:{}},setup(i){const a=$(),t=V({item:{},status:0}),r=()=>{try{a.back()}catch(e){console.error("返回失败",e),a.push("/")}};(async()=>{const e=await K({task_id:i.id});e?(console.log(e,"这里是获取任务详情的函数"),t.item=e.records[0],t.status=e.records[0].status):new Z("到这里出错了")})();const l=async()=>{const e=await L({task_id:i.id});e.data&&(t.status=e.data.status),q(e.msg)},d=()=>{a.push("/message/talk/"+t.item.task_id+"/"+t.item.user_id)};return(e,c)=>{const u=F,p=Q,B=Y;return _(),f(E,null,[n(u,{title:"ミッション詳細","left-arrow":"",onClickLeft:r}),t.item?(_(),z(et,{key:0,item:t.item},null,8,["item"])):R("",!0),s("div",ot,[n(p,{class:j(t.status==1?"active":""),icon:"star-o",text:"收藏",onClick:l},null,8,["class"]),n(B,{type:"primary",block:"",onClick:d},{default:b(()=>c[0]||(c[0]=[O("立即沟通")])),_:1})])],64)}}}),kt=v(nt,[["__scopeId","data-v-a007cd96"]]);export{kt as default};
