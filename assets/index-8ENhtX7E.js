import{a as G,d as P,T as S,k as D,e as I,r as O,l as C,b as r,t as w,j as E,I as U,G as V,u as F,A as N,$ as R,p as $,m as j,w as q,aq as A,P as K,c as L,a2 as b,M as T,ar as B,a9 as M,a3 as x,ac as h,ad as H,o as X,ae as Y,_ as J}from"./index-Drfi93ka.js";/* empty css              *//* empty css              */import{g as Q,l as W}from"./user-CWmPsCHQ.js";import{b as Z}from"./mount-component-C8gyEVu0.js";import{B as ee}from"./index-B4Vszr9U.js";import{s as _}from"./request-B6vlZ51I.js";const[oe,pe]=G("checkbox-group"),te=Symbol(oe),z={name:S,disabled:Boolean,iconSize:D,modelValue:S,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var ne=P({props:I({},z,{bem:E(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:w,indeterminate:{type:Boolean,default:null}}),emits:["click","toggle"],setup(e,{emit:u,slots:f}){const o=O(),d=n=>{if(e.parent&&e.bindGroup)return e.parent.props[n]},i=C(()=>{if(e.parent&&e.bindGroup){const n=d("disabled")||e.disabled;if(e.role==="checkbox"){const m=d("modelValue").length,a=d("max"),g=a&&m>=+a;return n||g&&!e.checked}return n}return e.disabled}),v=C(()=>d("direction")),c=C(()=>{const n=e.checkedColor||d("checkedColor");if(n&&e.checked&&!i.value)return{borderColor:n,backgroundColor:n}}),l=C(()=>e.shape||d("shape")||"round"),t=n=>{const{target:m}=n,a=o.value,g=a===m||(a==null?void 0:a.contains(m));!i.value&&(g||!e.labelDisabled)&&u("toggle"),u("click",n)},k=()=>{var n,m;const{bem:a,checked:g,indeterminate:y}=e,p=e.iconSize||d("iconSize");return r("div",{ref:o,class:a("icon",[l.value,{disabled:i.value,checked:g,indeterminate:y}]),style:l.value!=="dot"?{fontSize:V(p)}:{width:V(p),height:V(p),borderColor:(n=c.value)==null?void 0:n.borderColor}},[f.icon?f.icon({checked:g,disabled:i.value}):l.value!=="dot"?r(U,{name:y?"minus":"success",style:c.value},null):r("div",{class:a("icon--dot__icon"),style:{backgroundColor:(m=c.value)==null?void 0:m.backgroundColor}},null)])},s=()=>{const{checked:n}=e;if(f.default)return r("span",{class:e.bem("label",[e.labelPosition,{disabled:i.value}])},[f.default({checked:n,disabled:i.value})])};return()=>{const n=e.labelPosition==="left"?[s(),k()]:[k(),s()];return r("div",{role:e.role,class:e.bem([{disabled:i.value,"label-disabled":e.labelDisabled},v.value]),tabindex:i.value?void 0:0,"aria-checked":e.checked,onClick:t},[n])}}});const[le,ae]=G("checkbox"),ie=I({},z,{shape:String,bindGroup:w,indeterminate:{type:Boolean,default:null}});var ce=P({name:le,props:ie,emits:["change","update:modelValue"],setup(e,{emit:u,slots:f}){const{parent:o}=F(te),d=c=>{const{name:l}=e,{max:t,modelValue:k}=o.props,s=k.slice();if(c)!(t&&s.length>=+t)&&!s.includes(l)&&(s.push(l),e.bindGroup&&o.updateValue(s));else{const n=s.indexOf(l);n!==-1&&(s.splice(n,1),e.bindGroup&&o.updateValue(s))}},i=C(()=>o&&e.bindGroup?o.props.modelValue.indexOf(e.name)!==-1:!!e.modelValue),v=(c=!i.value)=>{o&&e.bindGroup?d(c):u("update:modelValue",c),e.indeterminate!==null&&u("change",c)};return N(()=>e.modelValue,c=>{e.indeterminate===null&&u("change",c)}),Z({toggle:v,props:e,checked:i}),R(()=>e.modelValue),()=>r(ne,j({bem:ae,role:"checkbox",parent:o,checked:i.value,onToggle:v},e),$(f,["default","icon"]))}});const se=q(ce),de={class:"login-main"},re={class:"login-form"},ue={class:"login-form-item"},me={class:"login-form-item"},be={class:"login-form-label"},fe=P({__name:"index",setup(e){const u=A(),f=Y(),o=K({checked:!0,accounts:"",code:"",codeText:"確認コードを取得する",time:60,interTimerCode:null}),d=async()=>{if(o.interTimerCode)return;const l=await Q({accounts:o.accounts});l&&(o.interTimerCode=setInterval(()=>{o.time--,o.time<=0?(clearInterval(o.interTimerCode),o.time=60,o.codeText="確認コードを取得する"):o.codeText="再送信("+o.time+"s)"},1e3),console.log(l),o.code=l.code)},i=async()=>{if(!o.code){_("请输入验证码");return}if(!o.checked){_("请先阅读并同意《IT企业平台服务协议》和《隐私政策》");return}const l=await W({accounts:o.accounts,code:o.code});l.errCode===200?(_("登录成功"),console.log(l),u.setUserInfo(l.data),u.role=="1"&&f.push("/task"),u.role=="2"&&f.push("/talent")):_("验证失败")},v=()=>{o.accounts="13321178501"},c=()=>history.back();return(l,t)=>{const k=U,s=ee,n=se,m=H("router-link");return X(),L("div",de,[r(k,{class:"icon-left",name:"arrow-left",onClick:c}),b("div",re,[t[10]||(t[10]=b("h3",null,"認証コードによるログイン",-1)),b("div",ue,[t[3]||(t[3]=b("div",{class:"icon-phone"},null,-1)),T(b("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>o.accounts=a),placeholder:"携帯電話番号を入力してください",type:"text",onFocus:v},null,544),[[B,o.accounts]])]),b("div",me,[t[4]||(t[4]=b("div",{class:"icon-code"},null,-1)),T(b("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>o.code=a),placeholder:"確認コードしてください",type:"text"},null,512),[[B,o.code]]),b("span",{onClick:d},M(o.codeText),1)]),r(s,{type:"primary",block:"",onClick:i},{default:x(()=>t[5]||(t[5]=[h("登录")])),_:1}),b("div",be,[r(n,{modelValue:o.checked,"onUpdate:modelValue":t[2]||(t[2]=a=>o.checked=a)},{default:x(()=>t[6]||(t[6]=[h("我已阅读")])),_:1},8,["modelValue"]),r(m,{to:"/login/ServiceAgree"},{default:x(()=>t[7]||(t[7]=[h("《IT企业平台服务协议》")])),_:1}),t[9]||(t[9]=h("和 ")),r(m,{to:"/login/PrivatePolicy"},{default:x(()=>t[8]||(t[8]=[h("《隐私政策》")])),_:1})])])])}}}),Ve=J(fe,[["__scopeId","data-v-e165cc8d"]]);export{Ve as default};
